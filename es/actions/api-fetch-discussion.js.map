{"version":3,"sources":["../../src/actions/api-fetch-discussion.js"],"names":["curry","RSAA","DISCUSSION_FETCH_REQUEST","DISCUSSION_FETCH_SUCCESS","DISCUSSION_FETCH_FAILURE","fetchDiscussionAction","api","channel","dispatch","endpoint","encodeURIComponent","meta","method","credentials","types","type","payload","action","state","res","json"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SAAQC,IAAR,QAAmB,sBAAnB;;AAEA,OAAO,MAAMC,2BAA2B,4BAAjC;AACP,OAAO,MAAMC,2BAA2B,4BAAjC;AACP,OAAO,MAAMC,2BAA2B,4BAAjC;;AAEP,OAAO,MAAMC,wBAAwBL,MAAM,CAAC,EAACM,GAAD,EAAMC,OAAN,EAAD,EAAiBC,QAAjB,KAA8B;AACvE,QAAMC,WAAY,GAAEH,GAAI,WAAUI,mBAAmBH,OAAnB,CAA4B,cAA9D;AACA,QAAMI,OAAO,EAACJ,OAAD,EAAb;;AAEA,SAAOC,SAAS;AACd,KAACP,IAAD,GAAQ;AACNQ,cADM;AAENG,cAAQ,KAFF;AAGNC,mBAAa,SAHP;AAINC,aAAO,CAAC;AACNC,cAAMb,wBADA;AAENS;AAFM,OAAD,EAGJ;AACDI,cAAMZ,wBADL;AAEDQ,YAFC;AAGDK,iBAAS,CAACC,MAAD,EAASC,KAAT,EAAgBC,GAAhB,KAAwBA,IAAIC,IAAJ;AAHhC,OAHI,EAOJ;AACDL,cAAMX,wBADL;AAEDO;AAFC,OAPI;AAJD;AADM,GAAT,CAAP;AAkBD,CAtBoC,CAA9B","file":"api-fetch-discussion.js","sourcesContent":["import curry from 'lodash/fp/curry';\nimport {RSAA} from 'redux-api-middleware';\n\nexport const DISCUSSION_FETCH_REQUEST = '@@discussion/FETCH_REQUEST';\nexport const DISCUSSION_FETCH_SUCCESS = '@@discussion/FETCH_SUCCESS';\nexport const DISCUSSION_FETCH_FAILURE = '@@discussion/FETCH_FAILURE';\n\nexport const fetchDiscussionAction = curry(({api, channel}, dispatch) => {\n  const endpoint = `${api}/forums/${encodeURIComponent(channel)}/discussions`;\n  const meta = {channel};\n\n  return dispatch({\n    [RSAA]: {\n      endpoint,\n      method: 'GET',\n      credentials: 'include',\n      types: [{\n        type: DISCUSSION_FETCH_REQUEST,\n        meta\n      }, {\n        type: DISCUSSION_FETCH_SUCCESS,\n        meta,\n        payload: (action, state, res) => res.json()\n      }, {\n        type: DISCUSSION_FETCH_FAILURE,\n        meta\n      }]\n    }\n  });\n});\n"]}