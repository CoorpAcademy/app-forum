{"version":3,"sources":["../../src/actions/api-create-thread.js"],"names":["curry","RSAA","CREATE_THREAD_REQUEST","CREATE_THREAD_SUCCESS","CREATE_THREAD_FAILURE","createThreadAction","api","channel","dispatch","thread","endpoint","meta","method","credentials","headers","body","JSON","stringify","types","type","payload","action","state","res","json"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SAAQC,IAAR,QAAmB,sBAAnB;;AAEA,OAAO,MAAMC,wBAAwB,yBAA9B;AACP,OAAO,MAAMC,wBAAwB,yBAA9B;AACP,OAAO,MAAMC,wBAAwB,yBAA9B;;AAEP,OAAO,MAAMC,qBAAqBL,MAAM,CAAC,EAACM,GAAD,EAAMC,OAAN,EAAD,EAAiBC,QAAjB,EAA2BC,MAA3B,KAAsC;AAC5E,QAAMC,WAAY,GAAEJ,GAAI,SAAxB;AACA,QAAMK,OAAO,EAACJ,OAAD,EAAb;AACA,SAAOC,SAAS;AACd,KAACP,IAAD,GAAQ;AACNS,cADM;AAENE,cAAQ,MAFF;AAGNC,mBAAa,SAHP;AAINC,eAAS;AACP,wBAAgB;AADT,OAJH;AAONC,YAAMC,KAAKC,SAAL,CAAeR,MAAf,CAPA;AAQNS,aAAO,CAAC;AACNC,cAAMjB,qBADA;AAENS;AAFM,OAAD,EAGJ;AACDQ,cAAMhB,qBADL;AAEDQ,YAFC;AAGDS,iBAAS,CAACC,MAAD,EAASC,KAAT,EAAgBC,GAAhB,KAAwBA,IAAIC,IAAJ;AAHhC,OAHI,EAOJ;AACDL,cAAMf,qBADL;AAEDO;AAFC,OAPI;AARD;AADM,GAAT,CAAP;AAsBD,CAzBiC,CAA3B","file":"api-create-thread.js","sourcesContent":["import curry from 'lodash/fp/curry';\nimport {RSAA} from 'redux-api-middleware';\n\nexport const CREATE_THREAD_REQUEST = '@@thread/CREATE_REQUEST';\nexport const CREATE_THREAD_SUCCESS = '@@thread/CREATE_SUCCESS';\nexport const CREATE_THREAD_FAILURE = '@@thread/CREATE_FAILURE';\n\nexport const createThreadAction = curry(({api, channel}, dispatch, thread) => {\n  const endpoint = `${api}/forums`;\n  const meta = {channel};\n  return dispatch({\n    [RSAA]: {\n      endpoint,\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json;charset=UTF-8'\n      },\n      body: JSON.stringify(thread),\n      types: [{\n        type: CREATE_THREAD_REQUEST,\n        meta\n      }, {\n        type: CREATE_THREAD_SUCCESS,\n        meta,\n        payload: (action, state, res) => res.json()\n      }, {\n        type: CREATE_THREAD_FAILURE,\n        meta\n      }]\n    }\n  });\n});\n"]}