{"version":3,"sources":["../../src/reducers/api.js"],"names":["includes","set","combineReducers","DISCUSSION_FETCH_SUCCESS","CREATE_THREAD_SUCCESS","discussions","state","action","type","payload","threads","threadCreated","push"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oBAArB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,SAAQC,eAAR,QAA8B,OAA9B;AACA,SAAQC,wBAAR,QAAuC,iCAAvC;AACA,SAAQC,qBAAR,QAAoC,8BAApC;;AAEA,MAAMC,cAAc,CAACC,QAAQ,EAAT,EAAaC,MAAb,KAAwB;AAC1C,MAAIP,SAASO,OAAOC,IAAhB,EAAsB,CAACL,wBAAD,CAAtB,CAAJ,EAAuD;AACrD,WAAOF,IAAI,CAAC,SAAD,CAAJ,EAAiBM,OAAOE,OAAP,CAAeC,OAAhC,EAAyCJ,KAAzC,CAAP;AACD;;AAED,SAAOA,KAAP;AACD,CAND;;AAQA,MAAMK,gBAAgB,CAACL,QAAQ,EAAT,EAAaC,MAAb,KAAwB;AAC5C,MAAIP,SAASO,OAAOC,IAAhB,EAAsB,CAACJ,qBAAD,CAAtB,CAAJ,EAAoD;AAClDE,UAAMI,OAAN,CAAcE,IAAd,CAAmBL,OAAOE,OAA1B;AACD;;AAED,SAAOH,KAAP;AACD,CAND;;AAQA,eAAeJ,gBAAgB;AAC7BG,aAD6B;AAE7BM;AAF6B,CAAhB,CAAf","file":"api.js","sourcesContent":["import includes from 'lodash/fp/includes';\nimport set from 'lodash/fp/set';\nimport {combineReducers} from 'redux';\nimport {DISCUSSION_FETCH_SUCCESS} from '../actions/api-fetch-discussion';\nimport {CREATE_THREAD_SUCCESS} from '../actions/api-create-thread';\n\nconst discussions = (state = {}, action) => {\n  if (includes(action.type, [DISCUSSION_FETCH_SUCCESS])) {\n    return set(['threads'], action.payload.threads, state);\n  }\n\n  return state;\n};\n\nconst threadCreated = (state = {}, action) => {\n  if (includes(action.type, [CREATE_THREAD_SUCCESS])) {\n    state.threads.push(action.payload);\n  }\n\n  return state;\n};\n\nexport default combineReducers({\n  discussions,\n  threadCreated\n});\n"]}